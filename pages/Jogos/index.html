<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jogos de Pokémon</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const logo = document.querySelector(".logo-img");

      // Troca imagem da logo ao clicar
      logo.addEventListener("click", function() {
          if (this.src.includes('pokeball.webp')) {
              this.src = 'assets/nova-imagem.webp';  
          } else {
              this.src = 'assets/pokeball.webp';
          }
      });

      const pokemonContainer = document.getElementById("pokemon-container");

      // Função para buscar Pokémon do jogo
      async function getPokemonFromGame(gameName) {
          try {
              const response = await fetch(`https://pokeapi.co/api/v2/version/${gameName}`);
              const data = await response.json();

              const versionGroup = data.version_group.url;
              const groupResponse = await fetch(versionGroup);
              const groupData = await groupResponse.json();

              const pokedexUrl = groupData.pokedexes[0].url;
              const pokedexResponse = await fetch(pokedexUrl);
              const pokedexData = await pokedexResponse.json();

              displayPokemon(pokedexData.pokemon_entries);
          } catch (error) {
              pokemonContainer.innerHTML = `<p>Erro ao carregar Pokémon para ${gameName}</p>`;
          }
      }

      // Exibe Pokémon na tela
      function displayPokemon(pokemonList) {
          pokemonContainer.innerHTML = "";
          pokemonList.forEach(p => {
              const div = document.createElement("div");
              div.classList.add("pokemon-card");
              div.innerHTML = `
                  <p>#${p.entry_number} - ${p.pokemon_species.name}</p>
              `;
              pokemonContainer.appendChild(div);
          });
      }

      // Exemplo inicial (versão Red)
      getPokemonFromGame("red");
    });
  </script>
</head>
<body>
  <header>
        <div class="logo">
            <img src="../assets/pokeball.webp" alt="Pokémon Hub" class="logo-img">
        </div>

    </header>

    <h1>A História do Anime e de Seus Filmes</h1>

  <section id="games-list">
    <!-- Jogos virão via JS -->
  </section>

  <!-- Espaço para mostrar Pokémon -->
  <div class="container">
    <div class="pokedex" id="pokedex">
  </div>

  <nav class="nav-footer">
    <a href="../index.html">
      <img src="../assets/star.png" alt="Home" class="nav-icon">
      Tela Inicial
    </a>
    <a href="/pages/filmes/index.html">
      <img src="../assets/game.png" alt="Home" class="nav-icon">
        Anime
    </a>
    <a href="../Jogos/index.html">
        <img src="../assets/pokemon-go.png" alt="Home" class="nav-icon">
        Jogos
    </a>
    <a href="../Pokedex/index.html">
        <img src="../assets/pokemon-go2.png" alt="Home" class="nav-icon">
        Pokédex
    </a>
  </nav>
  <script src="script.js"></script>
</body>
</html>

